<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Exposition - L'Atelier StephCrea</title>
  <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600&family=Raleway:wght@400;700&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: 'Lora', serif;
      background-color: #f9f7f3;
      color: #3d3d3d;
    }

    header {
      background-color: #d3a97d;
      color: white;
      text-align: center;
      padding: 3rem 2rem;
    }

    header h1 { font-family: 'Raleway', sans-serif; font-size: 2.5rem; margin: 0; }
    header p  { font-size: 1.2rem; margin: 0.5rem 0 0; }

    nav { text-align: center; margin: 1rem 0; }
    nav a { margin: 0 1rem; text-decoration: none; color: #b9885c; font-weight: bold; }
    nav a:hover { text-decoration: underline; }

    .search-bar { text-align: center; margin: 2rem 0 1rem; }
    .search-bar input {
      width: 320px;
      max-width: 90%;
      padding: 0.8rem 1rem;
      border: 1px solid #ccc;
      border-radius: 25px;
      font-size: 1rem;
      font-family: 'Lora', serif;
      transition: box-shadow 0.2s, border-color 0.2s;
    }
    .search-bar input:focus {
      border-color: #b9885c;
      outline: none;
      box-shadow: 0 0 6px rgba(185, 136, 92, 0.25);
    }

    .filters-container {
      max-width: 1400px;
      margin: 2rem auto;
      padding: 0 2rem;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
    }

    .filter-section {
      background: white;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }

    .filter-section h3 {
      font-family: 'Raleway', sans-serif;
      font-size: 1.4rem;
      color: #b9885c;
      margin: 0 0 1.2rem 0;
      text-align: center;
      font-weight: 700;
    }

    .filter-btn {
      background-color: #f0ede8;
      color: #3d3d3d;
      border: 2px solid #ddd;
      padding: 0.6rem 1.2rem;
      border-radius: 25px;
      margin: 0.4rem;
      cursor: pointer;
      font-family: 'Raleway', sans-serif;
      font-weight: bold;
      transition: all 0.3s ease;
      display: inline-block;
    }

    .filter-btn:hover {
      border-color: #b9885c;
      background-color: #e8e4dc;
      transform: translateY(-2px);
    }

    .filter-btn.active {
      background-color: #b9885c;
      color: white;
      border-color: #b9885c;
    }

    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1.5rem;
      padding: 2rem;
      max-width: 1400px;
      margin: auto;
    }

    @media (max-width: 1100px) { .gallery-grid { grid-template-columns: repeat(3, 1fr); } }
    @media (max-width: 800px) { .gallery-grid { grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 500px) { .gallery-grid { grid-template-columns: 1fr; } }
    @media (max-width: 900px) {
      .filters-container { grid-template-columns: 1fr; gap: 2rem; }
    }

    .item {
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      text-align: center;
      padding-bottom: 1rem;
      transition: transform 0.2s ease;
    }

    .item:hover { transform: translateY(-5px); }

    .item img {
      width: 100%;
      display: block;
      border-bottom: 1px solid #ddd;
      aspect-ratio: 1;
      object-fit: cover;
    }

    .item h3 {
      margin: 0.5rem 0 0.2rem;
      font-family: 'Raleway', sans-serif;
      color: #b9885c;
      font-weight: 700;
      font-size: 1.05rem;
    }

    .item p {
      font-size: 0.95rem;
      margin: 0.2rem 0 0.5rem;
      padding: 0 0.5rem;
    }

    .item-actions {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1rem;
    }

    .buy-btn {
      background: #b9885c;
      color: white;
      text-decoration: none;
      padding: 0.5rem 1.5rem;
      border-radius: 25px;
      display: inline-block;
      font-weight: 700;
      transition: background 0.3s ease;
      border: none;
      cursor: pointer;
      font-family: 'Lora', serif;
    }

    .buy-btn:hover { background: #9a6b45; }

    .like-btn {
      display: inline-block;
      font-size: 1.3rem;
      color: #ccc;
      cursor: pointer;
      transition: color 0.2s ease;
      border: none;
      background: none;
      padding: 0;
    }

    .like-btn:hover { color: #e74c3c; }
    .like-btn.liked { color: #e74c3c; }

    .form-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2.5rem 1rem;
      display: flex;
      flex-direction: row;
      gap: 2rem;
      justify-content: center;
      align-items: flex-start;
      flex-wrap: nowrap;
    }

    .contact, .avis {
      background-color: #f7f4ef;
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      flex: 0 0 46%;
      min-width: 300px;
      font-family: 'Lora', serif;
    }

    .contact h2, .avis h2 {
      font-family: 'Raleway', sans-serif;
      font-size: 1.6rem;
      color: #b9885c;
      text-align: center;
      margin: 0 0 1rem 0;
      font-weight: 700;
    }

    .contact input, .contact textarea,
    .avis input, .avis textarea, .avis select {
      width: 100%;
      padding: 0.75rem 1rem;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 1rem;
      margin-bottom: 0.9rem;
      font-family: 'Lora', serif;
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
    }

    .contact input:focus, .contact textarea:focus,
    .avis input:focus, .avis textarea:focus, .avis select:focus {
      border-color: #b9885c;
      outline: none;
      box-shadow: 0 0 6px rgba(185, 136, 92, 0.2);
    }

    .contact button, .avis button {
      display: block;
      width: 100%;
      background-color: #b9885c;
      color: white;
      border: none;
      padding: 0.85rem;
      border-radius: 25px;
      font-weight: 700;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.2s ease;
    }

    .contact button:hover, .avis button:hover { background-color: #9a6b45; }

    @media (max-width: 900px) {
      .form-container { flex-wrap: wrap; }
      .contact, .avis { flex: 0 0 100%; max-width: 700px; }
    }

    footer {
      background-color: #e9e4dc;
      color: #5c5044;
      text-align: center;
      padding: 1.5rem;
      font-size: 0.9rem;
    }

    footer a { color: #b9885c; text-decoration: none; font-weight: 700; }
    footer a:hover { text-decoration: underline; }

    .avis-item {
      background: white;
      border-radius: 8px;
      padding: 10px;
      margin-bottom: 8px;
      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08);
    }

    .avis-item strong { color: #b9885c; }
  </style>
</head>
<body>

  <header>
    <h1>L'Atelier StephCrea</h1>
    <p>Galerie et boutique artisanale</p>
  </header>

  <nav>
    <a href="index.html">Accueil</a> |
    <a href="exposition.html">Boutique</a> |
    <a href="a-propos.html">À propos</a> |
    <a href="favoris.html" class="menu-fav">Mes Favoris ❤️</a>
  </nav>

  <div class="search-bar">
    <input id="searchInput" type="text" placeholder="Rechercher un produit...">
  </div>

  <div class="filters-container" role="region" aria-label="Filtres de produits">
    <section class="filter-section">
      <h3>Galets peints</h3>
      <div style="text-align: center;">
        <button class="filter-btn active" data-category="all-galets">Tous</button>
        <button class="filter-btn" data-category="galets-nature">Nature & Paysages</button>
        <button class="filter-btn" data-category="galets-fetes">Fêtes & Saisons</button>
        <button class="filter-btn" data-category="galets-evenements">Événements de vie</button>
        <button class="filter-btn" data-category="galets-portraits">Portraits & Visages</button>
        <button class="filter-btn" data-category="galets-commande">Sur commande</button>
      </div>
    </section>

    <section class="filter-section">
      <h3>Cadres décoratifs</h3>
      <div style="text-align: center;">
        <button class="filter-btn" data-category="all-cadres">Tous</button>
        <button class="filter-btn" data-category="cadres-famille">Famille & Généalogie</button>
        <button class="filter-btn" data-category="cadres-amour">Amour & Couples</button>
        <button class="filter-btn" data-category="cadres-commande">Sur commande</button>
      </div>
    </section>
  </div>

  <section class="gallery" aria-label="Galerie d'œuvres">
    <div class="gallery-grid" id="galleryGrid">
      <div class="item" data-category="galets-nature">
        <img src="https://via.placeholder.com/300" alt="Galet cactus">
        <h3>Galet cactus</h3>
        <p>Petit galet peint, décor nature.</p>
        <div class="item-actions">
          <button class="buy-btn">Acheter</button>
          <button class="like-btn" data-id="1" aria-label="Ajouter aux favoris">❤</button>
        </div>
      </div>

      <div class="item" data-category="galets-fetes">
        <img src="https://via.placeholder.com/300" alt="Galet Saint-Valentin">
        <h3>Galet Saint-Valentin</h3>
        <p>Peinture romantique sur galet.</p>
        <div class="item-actions">
          <button class="buy-btn">Acheter</button>
          <button class="like-btn" data-id="2" aria-label="Ajouter aux favoris">❤</button>
        </div>
      </div>

      <div class="item" data-category="galets-fetes">
        <img src="https://via.placeholder.com/300" alt="Décor Noël">
        <h3>Décor de Noël</h3>
        <p>Galet décoré à la main pour les fêtes.</p>
        <div class="item-actions">
          <button class="buy-btn">Acheter</button>
          <button class="like-btn" data-id="3" aria-label="Ajouter aux favoris">❤</button>
        </div>
      </div>

      <div class="item" data-category="cadres-famille">
        <img src="https://via.placeholder.com/300" alt="Cadre famille">
        <h3>Cadre Famille</h3>
        <p>Cadre personnalisé arbre de vie.</p>
        <div class="item-actions">
          <button class="buy-btn">Acheter</button>
          <button class="like-btn" data-id="4" aria-label="Ajouter aux favoris">❤</button>
        </div>
      </div>

      <div class="item" data-category="cadres-amour">
        <img src="https://via.placeholder.com/300" alt="Cadre amoureux">
        <h3>Cadre Amoureux</h3>
        <p>Création romantique sur mesure.</p>
        <div class="item-actions">
          <button class="buy-btn">Acheter</button>
          <button class="like-btn" data-id="5" aria-label="Ajouter aux favoris">❤</button>
        </div>
      </div>

      <div class="item" data-category="galets-nature">
        <img src="https://via.placeholder.com/300" alt="Paysage">
        <h3>Galet Paysage</h3>
        <p>Peinture de nature sur galet poli.</p>
        <div class="item-actions">
          <button class="buy-btn">Acheter</button>
          <button class="like-btn" data-id="6" aria-label="Ajouter aux favoris">❤</button>
        </div>
      </div>

      <div class="item" data-category="galets-evenements">
        <img src="https://via.placeholder.com/300" alt="Galet Mariage">
        <h3>Galet Mariage</h3>
        <p>Souvenir unique peint à la main.</p>
        <div class="item-actions">
          <button class="buy-btn">Acheter</button>
          <button class="like-btn" data-id="7" aria-label="Ajouter aux favoris">❤</button>
        </div>
      </div>

      <div class="item" data-category="galets-evenements">
        <img src="https://via.placeholder.com/300" alt="Galet Naissance">
        <h3>Galet Naissance</h3>
        <p>Petit cadeau de bienvenue personnalisé.</p>
        <div class="item-actions">
          <button class="buy-btn">Acheter</button>
          <button class="like-btn" data-id="8" aria-label="Ajouter aux favoris">❤</button>
        </div>
      </div>

      <div class="item" data-category="cadres-famille">
        <img src="https://via.placeholder.com/300" alt="Cadre Arbre Généalogique">
        <h3>Cadre Arbre Généalogique</h3>
        <p>Arbre familial artistique sur mesure.</p>
        <div class="item-actions">
          <button class="buy-btn">Acheter</button>
          <button class="like-btn" data-id="9" aria-label="Ajouter aux favoris">❤</button>
        </div>
      </div>

      <div class="item" data-category="galets-portraits">
        <img src="https://via.placeholder.com/300" alt="Visage abstrait">
        <h3>Visage abstrait</h3>
        <p>Portrait expressif sur galet.</p>
        <div class="item-actions">
          <button class="buy-btn">Acheter</button>
          <button class="like-btn" data-id="10" aria-label="Ajouter aux favoris">❤</button>
        </div>
      </div>

      <div class="item" data-category="galets-fetes">
        <img src="https://via.placeholder.com/300" alt="Décor Hiver">
        <h3>Décor Hiver</h3>
        <p>Galet peint dans une ambiance hivernale.</p>
        <div class="item-actions">
          <button class="buy-btn">Acheter</button>
          <button class="like-btn" data-id="11" aria-label="Ajouter aux favoris">❤</button>
        </div>
      </div>

      <div class="item" data-category="galets-commande">
        <img src="https://via.placeholder.com/300" alt="Autre création">
        <h3>Création sur demande</h3>
        <p>Œuvre personnalisée selon vos envies.</p>
        <div class="item-actions">
          <button class="buy-btn">Acheter</button>
          <button class="like-btn" data-id="12" aria-label="Ajouter aux favoris">❤</button>
        </div>
      </div>
    </div>
  </section>

  <div class="form-container" role="region" aria-label="Contact et avis clients">
    <section class="contact" aria-labelledby="contact-title">
      <h2 id="contact-title">Contact / Collaboration</h2>
      <form onsubmit="event.preventDefault(); alert('Formulaire contact envoyé');">
        <input type="text" name="nom-contact" placeholder="Votre nom" required>
        <input type="email" name="email-contact" placeholder="Votre email" required>
        <textarea name="msg-contact" rows="5" placeholder="Votre message..." required></textarea>
        <button type="submit">Envoyer</button>
      </form>
    </section>

    <section class="avis" aria-labelledby="avis-title">
      <h2 id="avis-title">Avis des clients</h2>
      <form id="avisForm" onsubmit="event.preventDefault(); addAvis();">
        <input type="text" id="nom-avis" placeholder="Votre nom" required>
        <textarea id="message-avis" rows="4" placeholder="Votre avis..." required></textarea>
        <label for="note-avis">Note :</label>
        <select id="note-avis" required>
          <option value="">Choisir...</option>
          <option value="1">★☆☆☆☆</option>
          <option value="2">★★☆☆☆</option>
          <option value="3">★★★☆☆</option>
          <option value="4">★★★★☆</option>
          <option value="5">★★★★★</option>
        </select>
        <button type="submit">Envoyer</button>
      </form>
      <div id="avisContainer" aria-live="polite" aria-label="Liste des avis"></div>
    </section>
  </div>

  <footer>
    © 2025 L'Atelier StephCrea — <a href="index.html">Accueil</a> | <a href="a-propos.html">À propos</a>
  </footer>

  <script>
    var searchInput = document.getElementById('searchInput');
    var filterBtns = document.querySelectorAll('.filter-btn');
    var galleryItems = document.querySelectorAll('.item');
    var likeBtns = document.querySelectorAll('.like-btn');
    var avisForm = document.getElementById('avisForm');
    var avisContainer = document.getElementById('avisContainer');

    var currentCategory = 'all-galets';
    var avisData = [];

    filterBtns.forEach(function(btn) {
      btn.addEventListener('click', function() {
        var section = btn.closest('.filter-section');
        var sectionBtns = section.querySelectorAll('.filter-btn');
        
        sectionBtns.forEach(function(b) { b.classList.remove('active'); });
        btn.classList.add('active');
        
        currentCategory = btn.dataset.category;
        filterGallery();
      });
    });

    searchInput.addEventListener('input', filterGallery);

    function filterGallery() {
      var searchTerm = searchInput.value.toLowerCase();

      galleryItems.forEach(function(item) {
        var title = item.querySelector('h3').textContent.toLowerCase();
        var desc = item.querySelector('p').textContent.toLowerCase();
        var itemCategory = item.dataset.category;

        var matchesSearch = title.includes(searchTerm) || desc.includes(searchTerm);
        
        var matchesCategory = false;
        if (currentCategory === 'all-galets') {
          matchesCategory = itemCategory.startsWith('galets-');
        } else if (currentCategory === 'all-cadres') {
          matchesCategory = itemCategory.startsWith('cadres-');
        } else {
          matchesCategory = itemCategory === currentCategory;
        }

        item.style.display = matchesSearch && matchesCategory ? '' : 'none';
      });
    }

    function renderAvis() {
      if (avisData.length === 0) {
        avisContainer.innerHTML = '<p style="color:#999;">Aucun avis pour le moment.</p>';
        return;
      }

      var html = '';
      for (var i = 0; i < avisData.length; i++) {
        var a = avisData[i];
        var stars = '';
        for (var j = 0; j < a.note; j++) stars += '★';
        for (var j = a.note; j < 5; j++) stars += '☆';
        
        html += '<div class="avis-item"><strong>' + escapeHtml(a.nom) + '</strong><p style="margin:.3rem 0;"><strong>Note : </strong>' + stars + '</p><p style="margin:.5rem 0 0;">' + escapeHtml(a.message) + '</p></div>';
      }
      avisContainer.innerHTML = html;
    }

    function addAvis() {
      var nom = document.getElementById('nom-avis').value.trim();
      var message = document.getElementById('message-avis').value.trim();
      var note = parseInt(document.getElementById('note-avis').value);

      if (!nom || !message || !note) return;

      avisData.unshift({ nom: nom, message: message, note: note });
      avisForm.reset();
      renderAvis();
    }

    function escapeHtml(s) {
      var div = document.createElement('div');
      div.textContent = s;
      return div.innerHTML;
    }

    likeBtns.forEach(function(btn) {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        btn.classList.toggle('liked');
      });
    });

    renderAvis();
  </script>
</body>
</html>
